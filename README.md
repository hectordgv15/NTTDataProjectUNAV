# Resumen

**RESUMEN:** El presente proyecto evalúa diferentes técnicas de *Machine Learning* (XGBoost, LightGBM), modelado tradicional (SARIMAX) y enfoques alternativos (Prophet) en el pronóstico diario del caudal de ríos y afluentes, usando la información de variables meteorológicas, para un horizonte de predicción semanal (7 días). El punto de referencia para el análisis corresponde a la ubicación de la central hidroeléctrica de Pereruela y San Román en la provincia de Zamora en España. La extracción de los datos del caudal se realizó a través de la estación de medición más cercana, correspondiente a la estación del río Duero en Zamora. A lo largo del proyecto se establece un flujo de extracción de datos fundamentado en técnicas de *web scraping* y uso de API’s *open-source* (en el caso de las variables meteorológicas). Luego de implementar técnicas avanzadas de optimización, incluyendo búsqueda Bayesiana de hiperparámetros y validación cruzada, los modelos de ensamble, en particular LightGBM, exhibieron un desempeño superior en la predicción de picos o periodos anómalos tras pruebas en entornos simulados. El modelo SARIMAX mostró una estabilidad consistente en todas las métricas de error evaluadas, logrando resultados óptimos, aunque no excepcionales, en la predicción de periodos de alto caudal. En contraste, Prophet no logró superar la estimación base de repetir el último dato observado para el periodo de estimación, obteniendo el error más elevado y resultados no satisfactorios. Además, se analizó el impacto de variables meteorológicas como la lluvia, humedad del suelo, ráfagas de viento y temperatura, resultando ser los atributos más influyentes en el nivel del caudal.

*Palabras clave*: Río Duero en Zamora, variables meteorológicas, *web scraping*, XGBoost, LightGBM, SARIMAX, Prophet.

---

**ABSTRACT:** This project evaluates different machine learning techniques (XGBoost, LightGBM), traditional modeling (SARIMAX) and alternative approaches (Prophet) in daily forecasting the flow of rivers and tributaries, using information from meteorological variables, for a weekly prediction horizon. The reference point for the analysis corresponds to the location of the Pereruela and San Román hydroelectric power plant in the province of Zamora in Spain. The extraction of flow data is carried out through the closest measurement station, corresponding to the Duero River station in Zamora. Throughout the project, a data extraction flow is established based on *web scraping* techniques and the use of *open-source* APIs (in the case of meteorological variables). After implementing advanced optimization techniques, including Bayesian hyperparameter search and cross-validation, ensemble models, particularly LightGBM, exhibited superior performance in predicting anomalous peaks or periods after testing in simulated environments. The SARIMAX model showed consistent stability in all the error metrics evaluated, achieving optimal, although not exceptional, results in predicting high flow periods. In contrast, Prophet failed to surpass the base estimate of repeating the last observed data for the estimation period, obtaining the highest error and unsatisfactory results. In addition, the impact of meteorological variables such as rain, soil humidity, wind gusts and temperature was analyzed, proving to be the most influential attributes on the flow level.

*Keywords*: Duero River in Zamora, meteorological variables, web scraping, XGBoost, LightGBM, SARIMAX, Prophet.
